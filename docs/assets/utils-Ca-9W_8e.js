(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();function l(r){const e=localStorage.getItem(r);try{const o=JSON.parse(e);return Array.isArray(o)?o:[]}catch(o){return console.error(`❌ Failed to parse localStorage key: ${r}`,o),[]}}function d(r,e){localStorage.setItem(r,JSON.stringify(e))}function f(r){const e=window.location.search;return new URLSearchParams(e).get(r)}function m(r,e,o,a="afterbegin",t=!1){if(!e)throw new Error("No parent element provided to renderListWithTemplate.");t&&(e.innerHTML="");const s=o.map(r).join("");e.insertAdjacentHTML(a,s)}function u(){const e=(l("so-cart")||[]).reduce((a,t)=>a+(Number(t.Quantity)||1),0),o=document.getElementById("cart-count");o&&(o.textContent=e,o.style.display=e>0?"inline-block":"none")}function c(r,e,o,a){const t=document.createRange().createContextualFragment(r);e.replaceChildren(t),a&&a(o)}async function i(r){const e=await fetch(r);if(!e.ok)throw new Error(`Failed to load template from ${r}`);return await e.text()}async function p(){const r=document.getElementById("main-header"),e=document.getElementById("main-footer"),o=await i("/partials/header.html"),a=await i("/partials/footer.html");c(o,r,null,u),c(a,e)}export{f as a,l as g,p as l,m as r,d as s,u};
